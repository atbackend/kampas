@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   CSS Custom Properties Theme System
   =========================== */
:root {
  /* Light theme colors */
  --color-bg: #f9fafb;         /* gray-50 - main background */
  --color-fg: #111827;         /* gray-900 - main text */
  --color-card: #ffffff;       /* white - card backgrounds */
  --color-accent: #2563eb;     /* blue-600 - primary accent */
  --color-muted: #6b7280;      /* gray-500 - muted text */
  
  /* Semantic colors */
  --color-success: #10b981;    /* emerald-500 */
  --color-warning: #f59e0b;    /* amber-500 */
  --color-error: #ef4444;      /* red-500 */
  --color-info: #3b82f6;       /* blue-500 */
  
  /* Border and shadow colors */
  --color-border: #d1d5db;     /* gray-300 */
  --color-border-hover: #9ca3af; /* gray-400 */
  --color-shadow: rgba(0, 0, 0, 0.1);
  
  /* Interactive states */
  --color-hover: rgba(37, 99, 235, 0.1); /* accent with low opacity */
  --color-focus: rgba(37, 99, 235, 0.2); /* accent with medium opacity */
  
  /* Form elements */
  --color-input-bg: transparent;
  --color-input-border: #d1d5db;
  --color-input-focus: var(--color-accent);
  --color-placeholder: #9ca3af;
}

/* Dark theme overrides */
.dark {
  /* --color-bg: #111827;         gray-900 - dark background */
    --color-bg: #5d626b; 
  --color-fg: #f9fafb;         /* gray-50 - light text */
  --color-card: #1f2937;       /* gray-800 - dark card */
  --color-accent: #3b82f6;     /* blue-500 - brighter accent */
  --color-muted: #9ca3af;      /* gray-400 - muted text */
  
  /* Semantic colors for dark theme */
  --color-success: #34d399;    /* emerald-400 */
  --color-warning: #fbbf24;    /* amber-400 */
  --color-error: #f87171;      /* red-400 */
  --color-info: #60a5fa;       /* blue-400 */
  
  /* Border and shadow colors for dark theme */
  --color-border: #374151;     /* gray-700 */
  --color-border-hover: #4b5563; /* gray-600 */
  --color-shadow: rgba(0, 0, 0, 0.3);
  
  /* Interactive states for dark theme */
  --color-hover: rgba(59, 130, 246, 0.1);
  --color-focus: rgba(59, 130, 246, 0.2);
  
  /* Form elements for dark theme */
  --color-input-border: #4b5563;
  --color-placeholder: #6b7280;
}

/* ===========================
   Global Body Styling
   =========================== */
body {
  background-color: var(--color-bg);
  color: var(--color-fg);
  transition: background-color 0.3s ease, color 0.3s ease;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===========================
   Profile Page Specific Styles
   =========================== */

/* Smooth transitions for theme switching */
.profile-field-card {
  transition: all 0.2s ease;
  background-color: var(--color-card);
  border-color: var(--color-border);
}

.profile-field-card:hover {
  border-color: var(--color-border-hover);
  box-shadow: 0 4px 6px -1px var(--color-shadow);
}

/* Enhanced toggle switch styling */
.toggle-switch {
  position: relative;
  background: var(--color-border);
  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.toggle-switch.active {
  background: var(--color-success);
}

.toggle-switch-thumb {
  background: white;
  transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Input field styling with theme support */
.profile-input {
  background-color: var(--color-input-bg);
  border-color: var(--color-input-border);
  color: var(--color-fg);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.profile-input:focus {
  border-color: var(--color-input-focus);
  box-shadow: 0 0 0 3px var(--color-focus);
  outline: none;
}

.profile-input::placeholder {
  color: var(--color-placeholder);
}

.profile-input.error {
  border-color: var(--color-error);
}

.profile-input.error:focus {
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

/* Status badges */
.status-badge {
  font-size: 0.75rem;
  font-weight: 500;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  border: 1px solid;
}

.status-badge.verified {
  background-color: rgba(16, 185, 129, 0.1);
  color: var(--color-success);
  border-color: rgba(16, 185, 129, 0.3);
}

.status-badge.readonly {
  background-color: rgba(245, 158, 11, 0.1);
  color: var(--color-warning);
  border-color: rgba(245, 158, 11, 0.3);
}

.status-badge.updating {
  background-color: rgba(59, 130, 246, 0.1);
  color: var(--color-info);
  border-color: rgba(59, 130, 246, 0.3);
}

/* Button styles with theme support */
.btn-primary {
  background-color: var(--color-accent);
  color: white;
  transition: opacity 0.2s ease, transform 0.1s ease;
}

.btn-primary:hover:not(:disabled) {
  opacity: 0.9;
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-ghost {
  background-color: transparent;
  color: var(--color-muted);
  transition: color 0.2s ease, background-color 0.2s ease;
}

.btn-ghost:hover {
  color: var(--color-fg);
  background-color: var(--color-hover);
}

/* Action buttons for inline editing */
.edit-action-btn {
  padding: 0.5rem;
  border-radius: 9999px;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.edit-action-btn.save {
  color: var(--color-success);
}

.edit-action-btn.save:hover:not(:disabled) {
  background-color: rgba(16, 185, 129, 0.1);
}

.edit-action-btn.cancel {
  color: var(--color-error);
}

.edit-action-btn.cancel:hover:not(:disabled) {
  background-color: rgba(239, 68, 68, 0.1);
}

.edit-action-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Loading spinner integration */
.loading-spinner {
  animation: spin 1s linear infinite;
  color: var(--color-accent);
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ===========================
   Modal Items - Three Column Layout
   =========================== */
.label-column {
  width: 150px;
  align-items: flex-start;
  text-align: left;
  color: var(--color-muted);
  font-weight: 500;
}

.center-column {
  flex-grow: 1;
  justify-content: center;
  color: var(--color-fg);
}

.quick-action-column {
  width: 50px;
  align-items: flex-end;
  text-align: right;
}

/* ===========================
   Error and Success Messages
   =========================== */
.alert-error {
  background-color: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: var(--color-error);
  border-radius: 0.75rem;
  padding: 1rem;
}

.dark .alert-error {
  background-color: rgba(239, 68, 68, 0.15);
  border-color: rgba(239, 68, 68, 0.4);
}

.alert-success {
  background-color: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: var(--color-success);
  border-radius: 0.75rem;
  padding: 1rem;
}

.dark .alert-success {
  background-color: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.4);
}

.alert-warning {
  background-color: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.3);
  color: var(--color-warning);
  border-radius: 0.75rem;
  padding: 1rem;
}

.dark .alert-warning {
  background-color: rgba(245, 158, 11, 0.15);
  border-color: rgba(245, 158, 11, 0.4);
}

/* ===========================
   Form Validation States
   =========================== */
.field-valid {
  border-color: var(--color-success) !important;
}

.field-invalid {
  border-color: var(--color-error) !important;
}

.validation-message {
  font-size: 0.75rem;
  margin-top: 0.25rem;
}

.validation-message.valid {
  color: var(--color-success);
}

.validation-message.invalid {
  color: var(--color-error);
}

/* ===========================
   Responsive Design Utilities
   =========================== */
@media (max-width: 768px) {
  .profile-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .profile-field-card {
    padding: 1rem;
  }
  
  .label-column {
    width: 120px;
  }
  
  .quick-action-column {
    width: 40px;
  }
}

@media (max-width: 480px) {
  .profile-field-card {
    padding: 0.75rem;
  }
  
  .edit-action-btn {
    padding: 0.375rem;
  }
}

/* ===========================
   Focus Management and Accessibility
   =========================== */
.focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Remove default focus styles for mouse users */
.js-focus-visible :focus:not(.focus-visible) {
  outline: none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-border: #000000;
    --color-accent: #0000ff;
  }
  
  .dark {
    --color-border: #ffffff;
    --color-accent: #66b3ff;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ===========================
   Print Styles
   =========================== */
@media print {
  .profile-field-card {
    border: 1px solid #000 !important;
    background: white !important;
    color: black !important;
    box-shadow: none !important;
  }
  
  .btn-ghost,
  .edit-action-btn {
    display: none !important;
  }
  
  .toggle-switch {
    position: relative;
  }
  
  .toggle-switch::after {
    content: attr(data-status);
    position: absolute;
    left: 100%;
    margin-left: 0.5rem;
    color: black;
  }
}

/* ===========================
   Custom Scrollbar Styling
   =========================== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-border-hover);
}

/* Firefox scrollbar */
html {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) var(--color-bg);
}